___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "HubSpot Script Tag",
  "categories": [
    "ADVERTISING",
    "ANALYTICS",
    "MARKETING"
  ],
  "description": "Use this HubSpot Tag in GTM, to implement the HubSpot Code in your website. You can choose the server location in US or EU according to your needs. This Tag can also used with the new GTM Consent API",
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "displayName": "Trackify",
    "id": "github.com_trackify.info",
    "thumbnail": "data:image/jpeg;base64,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ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA\u003d"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "simpleValueType": true,
    "name": "hubspotTrackingId",
    "type": "TEXT",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "NUMBER"
      }
    ],
    "displayName": "HubSpot Pixel Account Id:",
    "help": "The Account Id you are get from HubSpot",
    "valueHint": "12345678"
  },
  {
    "type": "SELECT",
    "name": "serverLocation",
    "displayName": "Server Location",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "js",
        "displayValue": "US"
      },
      {
        "value": "js-eu1",
        "displayValue": "EU"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "js",
    "help": "You can choose the server location, HubSpot has a new datacenter in the EU (Germany).",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "extendedOptions",
    "displayName": "Extended Options",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "TEXT",
        "name": "pushDataBefore",
        "displayName": "push data before tracking code executed",
        "simpleValueType": true,
        "valueHint": "[\u0027setPath\u0027, \u0027/home\u0027]",
        "help": "optional JavaScript Code"
      },
      {
        "type": "TEXT",
        "name": "pushDataAfter",
        "displayName": "push data after tracking code executed",
        "simpleValueType": true,
        "valueHint": "[\u0027trackPageView\u0027]",
        "help": "optional JavaScript Code"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const encodeUriComponent = require('encodeUriComponent');
const log = require('logToConsole');
const createQueue = require('createQueue');
const queryPermission = require('queryPermission');
const injectScript = require('injectScript');

// onSuccess, onFailure for launching the HubSpot tracking code
const onSuccess = () => {
  log('HubSpot tracking code loaded successfully.');
  data.gtmOnSuccess();
};

const onFailure = () => {
  log('HubSpot tracking code has failed to load.');
  data.gtmOnFailure();
};

// Initialize tracker objects, Matomo Analytics queue
let _hubSpot, jsTracker;

_hubSpot = createQueue('_hsq');

const serverLocation = encodeUriComponent(data.serverLocation);
const hubspotTrackingId = encodeUriComponent(data.hubspotTrackingId);
jsTracker = 'https://' + serverLocation + '.hs-scripts.com/' + hubspotTrackingId + '.js';

// Setting the pushDataBefore value
if (data.pushDataBefore != undefined && data.pushDataBefore != "") {
  let pushDataBefore = data.pushDataBefore;
  _hubSpot(pushDataBefore);
  log('HubSpot pushDataBefore code is fired successfully.');
}

// After specifying the options, a function needs to run and injects the tracking code into <head>
const injectTracker = jsTracker => {
  injectScript(jsTracker, onSuccess, onFailure, jsTracker);
};

// Launch the tracking code
if (queryPermission('inject_script', jsTracker)) {
  injectTracker(jsTracker);
} else {
  data.gtmOnFailure();
}

// Setting the pushDataAfter value
if (data.pushDataAfter != undefined && data.pushDataAfter != "") {
  let pushDataAfter = data.pushDataAfter;
  _hubSpot(pushDataAfter);
  log('HubSpot pushDataAfter code is fired successfully.');
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.hs-scripts.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_hsq"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: HubSpot queue is initiated
  code: |-
    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('createQueue').wasCalled();
- name: HubSpot Tracker script completly launched
  code: |-
    // Mock injectScript
    mock('injectScript', (url, onSuccess, onFailure) => {
      onSuccess();
    });

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('injectScript').wasCalled();
    assertApi('gtmOnSuccess').wasCalled();
setup: |-
  const mockData = {
    hubspotTrackingId: "749881",
    serverLocation: "js",
    pushDataBefore: ['setPath', '/home'],
    pushDataAfter: ['trackPageView']
  };


___NOTES___

